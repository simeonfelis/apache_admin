{% extends "base.html" %}

{% block header %}
        <title>LaS³ Projektverwaltung</title>
{% endblock %}


{% block content %}
    <h1 align="center">LaS³ Projekte - Start</h1>

    USER:
    {{ user }}<br />
    AUTHENTICATED:
    {{ authenticated }}<br />
    IS_AUTHENTICATED:
    {{ user.is_authenticated }}<br />
    MEMBER:
    {{ member }}<br />
    USERNAME:
    {{ username }}<br />
    PROJECTS:
    {{ projects }}<br />
    REQUEST:
    {{ request }}<br />
    META:
    {{ meta }}<br />
    MEATA.keys()
    {{ meta.keys }}<br />

    {% if member %}

    <h1>Hallo {{ member.user.first_name }}</h1>
    
    <p>Hier hast du Einblick in Projekte rund ums LaS³.</p>

    <h1>Aufgabenverwaltung</h1>

    <p>Aufgaben, die dir zugewiesen sind</p>

    <a href="{% url todo-lists %}">To-do Lists</a>
    <a href="{% url todo-mine %}">My Tasks</a>

    <h1>Projekte</h1>

    <p>Projekte und Freigaben von dir</p>

    {% for p in projects%}
    <h2><a href="{% url home %}projectmod/{{ p.project.pk }}">{{ p.project }}</a></h2>
    <p>Andere Projektmitglieder</p>
    <ul>
        {% for m in p.members %}{% if m.pk != member.pk %}
        <li><a href="{% url home %}usermod/{{ m.user.pk }}">{{ m.user.get_full_name }}</a></li>
        {% endif %}{% endfor %}
    </ul>

    <p><a href="{% url home %}emails/project/active/{{ p.project.pk }}">E-Mail Liste der beteiligten</a></p>
    {% endfor %}

    <h1>Profil</h1>

    <p>Hier hast du Einblick in dein <a href="{% url home %}usermod/{{ member.user.pk }}">Profil</a>.</p>

    <h1>Administration</h2>

    <h2>E-Mail -- Listen</h2>

    <p>Wähle eine E-Mail Liste mit den folgenden Parametern</p>

    <h2>Gesamtübersicht</h2>

    <ul>
        <li>Alle Projekte</li>
        <li>Alle Freigaben</li>
        <li>Alle Benutzer</li>
    </ul>

    <h2>Erstellen</h2>

    <ul>
        <li>Neuer Benutzer</li>
        <li>Neues Projekt</li>
        <li>Neue Freigabe</li>
    </ul>

    <h2>Konfigurationen</h2>

    <p>Ein Einblick in Konfigurationen für den Webserver, welche regelmäßig generiert werden, gibt es hier:</p>

    <ul>
        <li>groups.dav -- Die Gruppenzugehörigkeiten</li>
        <li>subversion, webdav....</li>
    </ul>

    <p>Die Konfigurationen können auch <it>jetzt</li> neu geschrieben werden, wenn man hier klickt</p>



    <h2>Edit data</h2>
    <p style='color:red;'>Want to change the database directly? If you know what you are doing login into the <a href="{% url home %}admin">Admin Interface</a> first.</p>
    <p>Please edit shares, projects, member/users only at the links below. No login to django is required.</p>

    <h2>Where to go from here</h2>

    <h3>Database overview</h3>


    <p>You can get an <a href="{% url home %}overview/projects">overview of projects</a> or <a href="{% url home %}projectadd">add a project</a>.</p>
    <p>You can get an <a href="{% url home %}overview/shares">overview of shares</a> or <a href="{% url home %}shareadd">add a share</a>.</p>
    <p>You can get an <a href="{% url home %}overview/users">overview of users</a> or <a href="{% url home %}useradd">add a user</a>.</p>

    <h3>Email lists</h3>

    <p>Email lists for projects can retrieved in the <a href="{% url home %}overview/projects">project overview</a>. To view email addresses, a login is required.</p>
    <p>
        Other email lists are:
        <ul>
            <li>All <a href="{% url home %}emails/all/active/0">active users</a></li>
            <li>All <a href="{% url home %}emails/all/expired/0">expired users</a></li>
            <li>All <a href="{% url home %}emails/all/all/0">users</a></li>
            <li>Active users filtered by <a href="{% url home %}emails/member_type_extern/active/0">Extern users</a></li>
            <li>Active users filtered by <a href="{% url home %}emails/member_type_phd/active/0">PhD students</a></li>
            <li>Active users filtered by <a href="{% url home %}emails/member_type_bachelor/active/0">Bachelor students</a></li>
            <li>Active users filtered by <a href="{% url home %}emails/member_type_master/active/0">Master students</a></li>
            <li>Active users filtered by <a href="{% url home %}emails/member_type_prof/active/0">Professors</a></li>
            <li>Active users filtered by <a href="{% url home %}emails/member_type_none/active/0">None of the above</a></li>
            <li>Active users filtered by <a href="{% url home %}emails/share_type_svn/active/0">SVN users</a></li>
            <li>Active users filtered by <a href="{% url home %}emails/share_type_bzr/active/0">Bazaar users</a></li>
            <li>Active users filtered by <a href="{% url home %}emails/share_type_git/active/0">Git users</a></li>
            <li>Active users filtered by <a href="{% url home %}emails/share_type_dav/active/0">Webdav users</a></li>
        </ul>
    </p>


    {% if configs %}
    <h3>Config information</h3>

    <p>Have a look at the generated <a href="{% url home %}groups.dav">apache group file</a> for our users.</p>

    <p>Have a look at the generated config files for out shares.</p>

    <ul>
    {% for c in configs %}
        <li><a href="{% url home %}config/{{ c }}">Config for {{ c }}</a></li>
    {% endfor %}
    </ul>
    <p>If you think the config files are OK, you can <a href="{% url home %}write_configs/all">do the maintenance</a>. 
    This will write config files to the server and notify users about changes on their status.</p>

    {% else %}
    <p>No configs available</p>
    {% endif %}

    {% else %}{# member #}

    {% if username %}
    <p>Du bist als {{ username }} angemeldet, welcher keinem Member zugeordnet ist. Ich zeige dir vorsichtshalber mal nichts an.</p>
    {% else %}
    <p>Ich kenne dich nicht. Deswegen wird dir hier nichts angezeigt.</p>
    <p>Hast du dich als Member eingeloggt?</p>
    {% endif %}

    {% endif %}

{% endblock %}

